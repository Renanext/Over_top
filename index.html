<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Clientes</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <?php include 'logic.php'; ?>

    <h1>Cadastro de Clientes</h1>

    <div class="form-container">
        <h2>Adicionar Cliente</h2>
        <div class="mensagem">
            <?php if (!empty($mensagem)) echo "<p style='color: green;'>$mensagem</p>"; ?>
        </div>
        <form method="post" action="">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" required>
            <label for="cpf">CPF:</label>
            <input type="text" id="cpf" name="cpf" required>
            <label for="email">Email:</label>
            <input type="text" id="email" name="email" required>
            <input type="submit" name="add_cliente" value="Adicionar Cliente">
        </form>
    </div>

    <div class="form-container">
        <h2>Deletar Cliente</h2>
        <form method="post" action="">
            <label for="delete_search">ID, Nome, CPF ou Email do Cliente:</label>
            <input type="text" id="delete_search" name="delete_search" required>
            <input type="submit" name="delete_cliente" value="Deletar Cliente">
        </form>
    </div>

    <div class="form-container">
        <h2>Consultar Clientes</h2>
        <form method="post" action="">
            <label for="search">Buscar Cliente (Nome, CPF ou Email):</label>
            <input type="text" id="search" name="search">
            <input type="submit" name="search_cliente" value="Buscar Cliente">
            <button type="submit" name="reset_cliente" class="reset-button">Resetar Busca</button>
        </form>

        <div class="resultados">
            <?php if (!empty($clientes)): ?>
                <h3>Resultados da Consulta:</h3>
                <?php foreach ($clientes as $cliente): ?>
                    <div>
                        <h4><?php echo htmlspecialchars($cliente['nome']); ?></h4>
                        <p>CPF: <?php echo htmlspecialchars($cliente['cpf']); ?></p>
                        <p>Email: <?php echo htmlspecialchars($cliente['email']); ?></p>
                        <p>ID: <?php echo htmlspecialchars($cliente['cliente_id']); ?></p>
                    </div>
                    <hr>
                <?php endforeach; ?>
            <?php elseif (isset($_POST['search_cliente'])): ?>
                <div class="mensagem">Nenhum cliente encontrado.</div>
            <?php endif; ?>
        </div>
    </div>

</body>
</html>
